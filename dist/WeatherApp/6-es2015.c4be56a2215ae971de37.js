(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"7tiI":function(t,e,n){"use strict";n.r(e),n.d(e,"WeatherModule",(function(){return M}));var i=n("ofXK"),c=n("tk/3"),s=n("tyNb"),r=n("XNiG"),a=n("l7GE"),o=n("ZUHj");class l{constructor(t){this.notifier=t}call(t,e){const n=new b(t),i=Object(o.a)(n,this.notifier);return i&&!n.seenValue?(n.add(i),e.subscribe(n)):n}}class b extends a.a{constructor(t){super(t),this.seenValue=!1}notifyNext(t,e,n,i,c){this.seenValue=!0,this.complete()}notifyComplete(){}}var h=n("fXoL"),u=n("s3jh");function f(t,e){if(1&t){const t=h.Nb();h.Mb(0,"tr"),h.Mb(1,"td"),h.fc(2),h.Lb(),h.Mb(3,"td"),h.fc(4),h.Lb(),h.Mb(5,"td"),h.fc(6),h.Lb(),h.Mb(7,"td"),h.fc(8),h.Lb(),h.Mb(9,"td"),h.fc(10),h.Lb(),h.Mb(11,"td"),h.fc(12),h.Lb(),h.Mb(13,"td"),h.Mb(14,"button",7),h.Ub("click",(function(){h.ac(t);const n=e.$implicit;return h.Wb(3).removeWeather(n)})),h.fc(15,"Remove"),h.Lb(),h.Lb(),h.Lb()}if(2&t){const t=e.$implicit;h.zb(2),h.gc(null==t?null:t.name),h.zb(2),h.gc(null==t||null==t.main?null:t.main.temp),h.zb(2),h.gc(null==t||null==t.weather[0]?null:t.weather[0].main),h.zb(2),h.gc(null==t||null==t.weather[0]?null:t.weather[0].description),h.zb(2),h.gc(null==t||null==t.wind?null:t.wind.speed),h.zb(2),h.gc(null==t||null==t.wind?null:t.wind.deg)}}function d(t,e){if(1&t&&(h.Mb(0,"table",5),h.Mb(1,"thead"),h.Mb(2,"tr"),h.Mb(3,"th"),h.fc(4,"City"),h.Lb(),h.Mb(5,"th"),h.fc(6,"Temperature"),h.Lb(),h.Mb(7,"th"),h.fc(8,"Weather Details Main"),h.Lb(),h.Mb(9,"th"),h.fc(10,"Weather Details Desc"),h.Lb(),h.Mb(11,"th"),h.fc(12,"Wind speed"),h.Lb(),h.Mb(13,"th"),h.fc(14,"Wind deg"),h.Lb(),h.Kb(15,"th"),h.Lb(),h.Lb(),h.Mb(16,"tbody"),h.dc(17,f,16,6,"tr",6),h.Lb(),h.Lb()),2&t){const t=h.Wb(2);h.zb(17),h.Xb("ngForOf",t.cityList)}}function g(t,e){if(1&t&&(h.Mb(0,"div"),h.Mb(1,"div",3),h.dc(2,d,18,1,"table",4),h.Lb(),h.Lb()),2&t){const t=h.Wb(),e=h.Zb(4);h.zb(2),h.Xb("ngIf",t.cityList.length>0)("ngIfElse",e)}}function L(t,e){1&t&&(h.Mb(0,"div",8),h.fc(1," Loading... "),h.Lb())}function p(t,e){1&t&&(h.Mb(0,"div",9),h.fc(1," Records not found "),h.Lb())}const w=[{path:"",component:(()=>{class t{constructor(t){this.weatherService=t,this.unsubscribe$=new r.a,this.cityList=[],this.isLoading=!1}ngOnInit(){var t;this.weatherService.weatherTrigger$.pipe((t=this.unsubscribe$,e=>e.lift(new l(t)))).subscribe(t=>this.getWeatherByCity(t));const e=JSON.parse(localStorage.getItem("weatherList"));e&&(this.cityList=e)}getWeatherByCity(t){this.isLoading=!0,this.weatherService.getWeatherByCity(t).subscribe(t=>{this.cityList.push(t),this.isLoading=!1,this.saveLocalstorage()},t=>{this.isLoading=!1,alert("Invalid city name")})}removeWeather(t){this.cityList=this.cityList.filter(e=>e!==t),this.saveLocalstorage()}saveLocalstorage(){localStorage.setItem("weatherList",JSON.stringify(this.cityList))}}return t.\u0275fac=function(e){return new(e||t)(h.Jb(u.a))},t.\u0275cmp=h.Db({type:t,selectors:[["app-weather"]],decls:5,vars:2,consts:[[4,"ngIf","ngIfElse"],["loading",""],["noRecords",""],[1,"weather-container"],["class","weather-table",4,"ngIf","ngIfElse"],[1,"weather-table"],[4,"ngFor","ngForOf"],[3,"click"],[1,"loader"],[1,"no-records"]],template:function(t,e){if(1&t&&(h.dc(0,g,3,2,"div",0),h.dc(1,L,2,0,"ng-template",null,1,h.ec),h.dc(3,p,2,0,"ng-template",null,2,h.ec)),2&t){const t=h.Zb(2);h.Xb("ngIf",!e.isLoading)("ngIfElse",t)}},directives:[i.i,i.h],styles:[".loader[_ngcontent-%COMP%]{align-items:center;width:100%;height:calc(100vh - 50px);background:rgba(0,0,0,.6);color:#fff;font-size:2rem}.loader[_ngcontent-%COMP%], .no-records[_ngcontent-%COMP%]{display:flex;justify-content:center}"]}),t})()}];let y=(()=>{class t{}return t.\u0275mod=h.Hb({type:t}),t.\u0275inj=h.Gb({factory:function(e){return new(e||t)},imports:[[s.a.forChild(w)],s.a]}),t})(),M=(()=>{class t{}return t.\u0275mod=h.Hb({type:t}),t.\u0275inj=h.Gb({factory:function(e){return new(e||t)},imports:[[i.b,c.b,y]]}),t})()}}]);